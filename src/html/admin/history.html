<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <!-- build:section layout.head -->
    <!-- /build -->
  </head>

  <body>
    <!-- build:section layout.header -->
    <!-- /build -->

    <section class="relative flex flex-col-reverse">
      <div class="w-full">
        <img src="../dist/assets/img/page-banner/general.webp" alt="" class="w-full" />
      </div>
      <div class="bg-blueViolet">
        <div class="wrapper marquee s-a flex items-center space-x-2 px-2 py-0.5">
          <i class="fa-solid fa-volume-high"></i>
          <!-- delete:onProd -->
          <marquee scrolldelay="150" behavior="scroll" onmouseover="this.stop();" onmouseout="this.start();" direction="left"
            >Selamat datang - website judi online terbaik & terlengkap - 1 id untuk bermain semua games - depo mudah & wd cepat - bonus cashback mingguan - daftar sekarang untuk mendapatkan account
          </marquee>
          <!-- /delete -->
        </div>
      </div>
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
        <div class="text-2xl font-bold uppercase text-dandelion lg:text-3xl xl:text-4xl 2xl:text-5xl">my account</div>
      </div>
    </section>

    <!-- build:section layout.navAdmin -->
    <!-- /build -->

    <section class="wrapper">
      <div class="mx-auto mb-20 w-4/5 py-10 text-black md:w-3/5">
        <div class="text-center text-2xl font-bold uppercase text-blueViolet"><span>History</span></div>

        <div class="filter">
          <div class="flex flex-col">
            <label class="font-bold text-blueViolet"> SELECT TYPE</label>
            <div class="flex items-center filter">
              <select class="history-type h-8 w-full bg-slate-200 px-5 py-1 focus:outline-none">
                <option value="Deposit">Deposit</option>
                <option value="Withdraw">Withdraw</option>
                <option value="Transfer">Transfer</option>
              </select>

              <!-- <button class="btn-process bg-dandelion px-5 py-1">PROCESS</button> -->
            </div>
          </div>
        </div>

        <div class="mt-3 table w-full">
          <div class="font-bold text-blueViolet">HISTORY DEPOSIT & WITHDRAW</div>

          <div class="table-warp w-full">
            <table class="depWit w-full table-fixed border-separate text-center capitalize">
              <thead>
                <tr class="bg-slate-400">
                  <th>date &amp; time</th>
                  <th>Type</th>
                  <th>Total (IDR)</th>
                  <th>status</th>
                </tr>
              </thead>

              <tbody class="bg-slate-600 text-white">
                <!-- delete:onProd -->
                <tr>
                  <td>17-Jun-2021 17:46</td>
                  <td>Deposit</td>
                  <td>20,000</td>
                  <td>Success</td>
                </tr>

                <tr>
                  <td>17-Jun-2021 17:46</td>
                  <td>Deposit</td>
                  <td>20,000</td>
                  <td>Success</td>
                </tr>

                <tr>
                  <td>17-Jun-2021 17:46</td>
                  <td>Deposit</td>
                  <td>20,000</td>
                  <td>Success</td>
                </tr>
                <!-- /delete -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- build:section layout.overlay -->
    <!-- /build -->

    <!-- build:section layout.mobilemenu -->
    <!-- /build -->

    <!-- build:section layout.sidemenu -->
    <!-- /build -->

    <!-- build:section layout.footer -->
    <!-- /build -->

    <!-- build:section layout.script -->
    <!-- /build -->

    <script src="/js/date.format.js"></script>

    <script type="text/javascript">
      $(document).ready(function () {
        getAllHistory('Deposit');

        $('.history-type').on('change', function () {
          $('.depWit tbody').empty();
          getAllHistory(this.value);
        });

        function getAllHistory(type) {
          ajaxCaller('get', '/ajax/credit/getDepositHistory', '', function (res) {
            if (res[1].length == 0) {
              $('.depWit tbody').append($('<tr>').append($('<td class="text-center" colspan="4">').text(messages.nodata)));
            } else {
              var status = '';
              for (var i = 0; i < res[1].length && i < 19; i++) {
                var data = res[1][i];

                if (data[3] === 'Success' || data[3] === 'success') status = '<i class="fa-solid fa-circle-check"></i> Success';
                else if (data[3] === 'Pending' || data[3] === 'pending') status = '<i class="fa-solid fa-circle-exclamation"></i> Pending';
                else if (data[3] === 'Cancel' || data[3] === 'Cancel') status = '<i class="fa-solid fa-circle-xmark"></i> Cancel';
                else status = '<i class="fa-solid fa-circle-xmark"></i> Failed';

                if (type === data[1]) {
                  $('.depWit tbody').append(
                    $('<tr>')
                      .append($('<td>').text(data[0]))
                      .append($('<td>').text(data[1]))
                      .append($('<td>').text(formatNumber(data[2])))
                      .append($('<td>').append(status)),
                  );
                } else {
                  $('.depWit tbody').append($('<tr>').append($('<td class="text-center" colspan="4">').text(messages.nodata)));
                }
              }
            }
          });
        }
      });
    </script>
  </body>
</html>
